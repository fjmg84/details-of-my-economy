---
import Pagination from "@components/Pagination.astro";
---

<div
  style="margin-top: 1.5rem; background: white; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); overflow: hidden;"
>
  <div style="border-top: 1px solid #e5e7eb;">
    <div id="transactions">
      <!-- Transactions will be inserted here by JavaScript -->
    </div>

    <Pagination />
  </div>
</div>

<script>
  import { getTransactions } from "src/utils/storage";
  import { paginateTransactions } from "src/utils/pagination";
  import {
    getTransactionsToday,
    sortTransactionsByCreated,
  } from "src/utils/lib";

  const transactions = getTransactions();
  const transactionsToday = getTransactionsToday(transactions);
  const transactionSort = sortTransactionsByCreated(transactionsToday);
  paginateTransactions(transactionSort);
</script>
